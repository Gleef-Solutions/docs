---
title: Configuration File
description: 'Complete reference for the .gleef/config.json configuration file'
---

The `.gleef/config.json` file controls how Gleef CLI processes your localization files. This file is created automatically by `gleef init` but can be customized for complex project setups.

## Configuration Location

The configuration file is always located at:
```
your-project/
└── .gleef/
    └── config.json
```

This file should be committed to version control so your team shares the same configuration.

## Basic Configuration Structure

```json
{
  "localeFilePatterns": [
    "src/locales/{locale}.json",
    "public/i18n/{locale}/{feature}.json"
  ],
  "formatOptions": {
    "json": {
      "nested": true
    },
    "xml": {
      "nested": false
    }
  },
  "customLocaleNames": {
    "en-US": "english",
    "fr-FR": "french"
  },
  "prependNamespaceToKeys": false
}
```

## Configuration Properties

### localeFilePatterns

**Type:** `string[]`  
**Required:** Yes

Defines placeholder patterns that match your localization files. Each pattern **must** include the `{locale}` placeholder.

```json5
{
  "localeFilePatterns": [
    "src/locales/{locale}.json",              // Simple locale files
    "public/i18n/{locale}/{feature}.json",    // Namespaced by feature
    "assets/strings/{locale}.strings",        // iOS strings files
    "config/locales/{feature}.{locale}.yml"   // Feature-first naming
  ]
}
```

**Placeholder Syntax:**

| Placeholder | Description | Example |
|-------------|-------------|----------|
| `{locale}` | **Required** - Locale identifier | `en`, `fr-FR`, `es-ES` |
| `{feature}` | Optional - Feature/namespace name | `common`, `auth`, `dashboard` |
| `{namespace}` | Optional - Alternative to feature | `header`, `footer`, `modal` |

**Pattern Examples:**

| Pattern | Matches | Structure |
|---------|---------|----------|
| `src/{locale}.json` | `src/en.json`, `src/fr.json` | Simple structure |
| `locales/{locale}/{feature}.json` | `locales/en/common.json`, `locales/fr/auth.json` | Locale-first namespacing |
| `i18n/{feature}.{locale}.json` | `i18n/common.en.json`, `i18n/auth.fr.json` | Feature-first namespacing |
| `assets/{locale}/strings.xml` | `assets/en/strings.xml`, `assets/fr/strings.xml` | Folder-based locales |

### formatOptions

**Type:** `object`  
**Required:** No

Controls how different file formats are processed and generated.

```json
{
  "formatOptions": {
    "json": {
      "nested": true
    },
    "xml": {
      "nested": false
    },
    "yaml": {
      "nested": true
    }
  }
}
```

**Format-Specific Options:**

#### JSON Options
- `nested` (boolean): Use nested object structure vs flat keys

#### XML Options  
- `nested` (boolean): Use nested elements vs flat structure

#### YAML Options
- `nested` (boolean): Use nested structure vs flat keys

#### Strings Options
None

### customLocaleNames

**Type:** `object`
**Required:** No

Maps your company's locale codes to the actual file or folder names in your project when they don't match.

```json
{
  "customLocaleNames": {
    "en-US": "english",
    "fr-FR": "french",
    "es-ES": "spanish",
    "zh-CN": "chinese-simplified"
  }
}
```

**Use Cases:**
- Legacy naming conventions that can't be changed
- Simplified locale names (`fr` instead of `fr-FR`)
- Descriptive filenames in existing projects
- Platform-specific naming requirements (iOS: `en.lproj`)

**How it works:**
- Company locale `"fr-FR"` maps to file/folder name `"french"`
- Pattern `src/{locale}.json` resolves to `src/french.json`
- Gleef treats this file as containing `fr-FR` translations

### prependNamespaceToKeys

**Type:** `boolean`
**Required:** No
**Default:** `false`

Automatically prepends the namespace/file name to translation keys when pushing to Gleef's remote storage. This is useful when you have multiple namespace files per locale and want to keep keys unique across files remotely while maintaining simple keys locally.

```json
{
  "prependNamespaceToKeys": true
}
```

**How it works:**

When enabled, translation keys are transformed before being sent to Gleef:

**Local file structure:**
```
locales/
  en/
    auth.json    → { "loginButton": "Log In" }
    common.json  → { "loginButton": "Sign In" }
```

Without `prependNamespaceToKeys` (default):
- Both files have key `loginButton`
- Conflict: Remote storage can't distinguish between them

With `prependNamespaceToKeys: true`:
- `auth.json` → Remote key: `auth.loginButton`
- `common.json` → Remote key: `common.loginButton`
- No conflict: Keys are unique remotely

**Use Cases:**
- Projects with multiple namespace files per locale
- Preventing key naming conflicts across different feature files
- Maintaining simple local key names while having unique remote keys
- Working with modular translation architectures

**Important:**
- Keys are only transformed for remote storage - local files remain unchanged
- When pulling translations, namespace prefixes are automatically stripped
- Works seamlessly with the `--namespace` flag for filtering

## Advanced Configuration Examples

### Multi-Module Project

<CodeGroup>

```json Configuration
{
  "localeFilePatterns": [
    "apps/web/src/locales/{locale}.json",
    "apps/mobile/assets/i18n/{locale}.json", 
    "packages/shared/locales/{locale}/{feature}.json"
  ],
  "formatOptions": {
    "json": {
      "nested": true
    }
  }
}
```

```bash File Structure
apps/
├── web/src/locales/
│   ├── en.json
│   └── fr.json
├── mobile/assets/i18n/
│   ├── en.json
│   └── fr.json
packages/shared/locales/
├── en/
│   ├── common.json
│   └── auth.json
└── fr/
    ├── common.json
    └── auth.json
```

</CodeGroup>

### Cross-Platform Project

<CodeGroup>

```json Configuration
{
  "localeFilePatterns": [
    "src/web/{locale}.json",
    "ios/MyApp/{locale}.lproj/Localizable.strings",
    "android/app/src/main/res/values-{locale}/strings.xml"
  ],
  "formatOptions": {
    "json": {
      "nested": true
    },
    "xml": {
      "nested": false
    }
  },
  "customLocaleNames": {
    "en-US": "en",
    "fr-FR": "fr",
    "es-ES": "es"
  }
}
```

```bash File Structure
src/web/
├── en.json
├── fr.json
└── es.json
ios/MyApp/
├── en.lproj/
│   └── Localizable.strings
├── fr.lproj/
│   └── Localizable.strings
└── es.lproj/
    └── Localizable.strings
android/app/src/main/res/
├── values-en/
│   └── strings.xml
├── values-fr/
│   └── strings.xml
└── values-es/
    └── strings.xml
```

</CodeGroup>

### Namespace-Organized Project

<CodeGroup>

```json Configuration
{
  "localeFilePatterns": [
    "i18n/{feature}.{locale}.yml",
    "locales/{locale}/{feature}.json"
  ],
  "formatOptions": {
    "json": {
      "nested": true
    },
    "yaml": {
      "nested": true
    }
  }
}
```

```bash File Structure
i18n/
├── common.en.yml
├── common.fr.yml
├── auth.en.yml
└── auth.fr.yml
locales/
├── en/
│   ├── dashboard.json
│   └── settings.json
└── fr/
    ├── dashboard.json
    └── settings.json
```

</CodeGroup>

### Namespace Project with Key Prepending

<CodeGroup>

```json Configuration
{
  "localeFilePatterns": [
    "locales/{locale}/{feature}.json"
  ],
  "formatOptions": {
    "json": {
      "nested": true
    }
  },
  "prependNamespaceToKeys": true
}
```

```bash File Structure
locales/
├── en/
│   ├── auth.json       → { "loginButton": "Log In", "signupButton": "Sign Up" }
│   ├── common.json     → { "loginButton": "Sign In", "cancel": "Cancel" }
│   └── dashboard.json  → { "welcome": "Welcome" }
└── fr/
    ├── auth.json       → { "loginButton": "Se connecter", "signupButton": "S'inscrire" }
    ├── common.json     → { "loginButton": "Connexion", "cancel": "Annuler" }
    └── dashboard.json  → { "welcome": "Bienvenue" }
```

```json Remote Keys (with prependNamespaceToKeys)
{
  "en": {
    "auth.loginButton": "Log In",
    "auth.signupButton": "Sign Up",
    "common.loginButton": "Sign In",
    "common.cancel": "Cancel",
    "dashboard.welcome": "Welcome"
  }
}
```

</CodeGroup>

This configuration solves the duplicate key problem where `loginButton` appears in both `auth.json` and `common.json`. With `prependNamespaceToKeys: true`, they become unique remote keys: `auth.loginButton` and `common.loginButton`.

## File Structure Examples

### Nested JSON (Default)

**Configuration:**
```json
{
  "formatOptions": {
    "json": {
      "nested": true
    }
  }
}
```

**Output:**
```json
{
  "auth": {
    "login": {
      "title": "Sign In",
      "email": "Email Address",
      "password": "Password"
    }
  },
  "navigation": {
    "home": "Home",
    "about": "About"
  }
}
```

### Flat JSON

**Configuration:**
```json
{
  "formatOptions": {
    "json": {
      "nested": false
    }
  }
}
```

**Output:**
```json
{
  "auth.login.title": "Sign In",
  "auth.login.email": "Email Address", 
  "auth.login.password": "Password",
  "navigation.home": "Home",
  "navigation.about": "About"
}
```

### XML Structure

**Configuration:**
```json
{
  "formatOptions": {
    "xml": {
      "nested": false
    }
  }
}
```

**Output:**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<resources>
  <string name="auth_login_title">Sign In</string>
  <string name="auth_login_email">Email Address</string>
  <string name="navigation_home">Home</string>
</resources>
```

## Configuration Validation

### Common Validation Errors

**Missing Locale Placeholder:**
```
Error: No {locale} placeholder found in pattern: src/translations/*.json
```

**No Files Matched:**
```
Warning: Pattern 'locales/{locale}.json' matched no files. Check your file structure.
```

**Invalid Pattern Syntax:**
```
Error: File path structure doesn't match pattern: src/en/common.json vs src/{locale}.json
```

**Locale Mapping Issues:**
```
Warning: Some translations for locale 'fr' have been generated but not written locally.
Check your customLocaleNames configuration.
```

## Troubleshooting

### Configuration Issues

**No files detected:**
- Check pattern syntax
- Verify file paths are correct
- Test patterns with file system tools

**Wrong files included:**
- Add exclusion patterns
- Make patterns more specific
- Check for conflicting patterns

**Format errors:**
- Validate JSON syntax
- Check property names and values
- Review format-specific options

### Recovery

**Reset configuration:**
```bash
rm -rf .gleef/
gleef init
```

## Next Steps

<CardGroup cols={2}>
    <Card
        title="File Patterns"
        icon="folder"
        href="/cli/configuration/file-patterns"
    >
        Learn advanced file pattern matching techniques
    </Card>
    <Card
        title="Format Options"
        icon="file-code"
        href="/cli/configuration/format-options"
    >
        Master format-specific configuration options
    </Card>
</CardGroup>